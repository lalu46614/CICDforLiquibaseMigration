{"ast":null,"code":"var _jsxFileName = \"D:\\\\PRISM\\\\phase6_dashboard\\\\frontend\\\\src\\\\components\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getEnvironments, getDbStatus } from '../api';\nimport EnvironmentCard from './EnvironmentCard';\nimport PendingMigrations from './PendingMigrations';\nimport MigrationsTimeline from './MigrationsTimeline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [envs, setEnvs] = useState({});\n  const [status, setStatus] = useState({});\n  async function load() {\n    try {\n      const e = await getEnvironments();\n      setEnvs(e);\n      const s = await getDbStatus();\n      setStatus(s);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  useEffect(() => {\n    load();\n    const t = setInterval(load, 15000);\n    return () => clearInterval(t);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      style: {\n        marginBottom: 12\n      },\n      children: Object.keys(envs).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 43\n      }, this) : Object.keys(envs).map(k => /*#__PURE__*/_jsxDEV(EnvironmentCard, {\n        name: k,\n        latest: envs[k].latest,\n        dbStatus: status[k]\n      }, k, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Pending Migrations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PendingMigrations, {\n          env: \"dev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Migration History (DEV)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MigrationsTimeline, {\n          env: \"dev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"rH0zTmlTMg2S6X+wDpiwhvSH0Ag=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","getEnvironments","getDbStatus","EnvironmentCard","PendingMigrations","MigrationsTimeline","jsxDEV","_jsxDEV","Dashboard","_s","envs","setEnvs","status","setStatus","load","e","s","err","console","error","t","setInterval","clearInterval","children","className","style","marginBottom","Object","keys","length","fileName","_jsxFileName","lineNumber","columnNumber","map","k","name","latest","dbStatus","display","gap","flex","env","_c","$RefreshReg$"],"sources":["D:/PRISM/phase6_dashboard/frontend/src/components/Dashboard.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { getEnvironments, getDbStatus } from '../api';\nimport EnvironmentCard from './EnvironmentCard';\nimport PendingMigrations from './PendingMigrations';\nimport MigrationsTimeline from './MigrationsTimeline';\n\nexport default function Dashboard(){\n  const [envs, setEnvs] = useState({});\n  const [status, setStatus] = useState({});\n\n  async function load(){\n    try{\n      const e = await getEnvironments();\n      setEnvs(e);\n      const s = await getDbStatus();\n      setStatus(s);\n    }catch(err){\n      console.error(err);\n    }\n  }\n\n  useEffect(()=>{ load(); const t = setInterval(load, 15000); return ()=>clearInterval(t); }, []);\n\n  return (\n    <div>\n      <div className=\"grid\" style={{marginBottom:12}}>\n        {Object.keys(envs).length === 0 ? <div>Loading...</div> :\n          Object.keys(envs).map(k => (\n            <EnvironmentCard key={k} name={k} latest={envs[k].latest} dbStatus={status[k]} />\n          ))\n        }\n      </div>\n\n      <div style={{display:'flex', gap:12}}>\n        <div style={{flex:1}}>\n          <h3>Pending Migrations</h3>\n          <PendingMigrations env=\"dev\" />\n        </div>\n        <div style={{flex:2}}>\n          <h3>Migration History (DEV)</h3>\n          <MigrationsTimeline env=\"dev\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,SAASC,eAAe,EAAEC,WAAW,QAAQ,QAAQ;AACrD,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,OAAOC,kBAAkB,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,eAAe,SAASC,SAASA,CAAA,EAAE;EAAAC,EAAA;EACjC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpC,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC;EAExC,eAAec,IAAIA,CAAA,EAAE;IACnB,IAAG;MACD,MAAMC,CAAC,GAAG,MAAMd,eAAe,CAAC,CAAC;MACjCU,OAAO,CAACI,CAAC,CAAC;MACV,MAAMC,CAAC,GAAG,MAAMd,WAAW,CAAC,CAAC;MAC7BW,SAAS,CAACG,CAAC,CAAC;IACd,CAAC,QAAMC,GAAG,EAAC;MACTC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;EACF;EAEAlB,SAAS,CAAC,MAAI;IAAEe,IAAI,CAAC,CAAC;IAAE,MAAMM,CAAC,GAAGC,WAAW,CAACP,IAAI,EAAE,KAAK,CAAC;IAAE,OAAO,MAAIQ,aAAa,CAACF,CAAC,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;EAE/F,oBACEb,OAAA;IAAAgB,QAAA,gBACEhB,OAAA;MAAKiB,SAAS,EAAC,MAAM;MAACC,KAAK,EAAE;QAACC,YAAY,EAAC;MAAE,CAAE;MAAAH,QAAA,EAC5CI,MAAM,CAACC,IAAI,CAAClB,IAAI,CAAC,CAACmB,MAAM,KAAK,CAAC,gBAAGtB,OAAA;QAAAgB,QAAA,EAAK;MAAU;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,GACrDN,MAAM,CAACC,IAAI,CAAClB,IAAI,CAAC,CAACwB,GAAG,CAACC,CAAC,iBACrB5B,OAAA,CAACJ,eAAe;QAASiC,IAAI,EAAED,CAAE;QAACE,MAAM,EAAE3B,IAAI,CAACyB,CAAC,CAAC,CAACE,MAAO;QAACC,QAAQ,EAAE1B,MAAM,CAACuB,CAAC;MAAE,GAAxDA,CAAC;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAyD,CACjF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAED,CAAC,eAEN1B,OAAA;MAAKkB,KAAK,EAAE;QAACc,OAAO,EAAC,MAAM;QAAEC,GAAG,EAAC;MAAE,CAAE;MAAAjB,QAAA,gBACnChB,OAAA;QAAKkB,KAAK,EAAE;UAACgB,IAAI,EAAC;QAAC,CAAE;QAAAlB,QAAA,gBACnBhB,OAAA;UAAAgB,QAAA,EAAI;QAAkB;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3B1B,OAAA,CAACH,iBAAiB;UAACsC,GAAG,EAAC;QAAK;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5B,CAAC,eACN1B,OAAA;QAAKkB,KAAK,EAAE;UAACgB,IAAI,EAAC;QAAC,CAAE;QAAAlB,QAAA,gBACnBhB,OAAA;UAAAgB,QAAA,EAAI;QAAuB;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChC1B,OAAA,CAACF,kBAAkB;UAACqC,GAAG,EAAC;QAAK;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACxB,EAAA,CAvCuBD,SAAS;AAAAmC,EAAA,GAATnC,SAAS;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}